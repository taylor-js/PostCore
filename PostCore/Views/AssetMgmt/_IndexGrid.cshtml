@model IEnumerable<AssetMgmt>
@using PostCore.Models;
@using System.Text.Encodings.Web
@using System.Globalization;
@* @using NonFactors.Mvc.Grid; *@

<table id="assets-table" class="display table" style="width:100%">
    <thead>
        <tr>
            <th>Url</th>
            <th>@Html.DisplayName("ID")</th>
            <th>@Html.DisplayName("Type")</th>
            <th>@Html.DisplayName("Name")</th>
            <th>@Html.DisplayName("Category")</th>
            <th>@Html.DisplayName("WO#")</th>
            <th>@Html.DisplayName("PO#")</th>
            <th>@Html.DisplayName("Date")</th>
            <th>@Html.DisplayName("PM")</th>
            <th>@Html.DisplayName("Amount")</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td><a asp-controller="AssetMgmt" asp-action="AssetDetails" asp-route-id="@item.Uniqueassetid" class="btn btn-outline-secondary">Edit</a></td>
                <td>@Html.DisplayFor(modelItem => item.Assetid)</td>
                <td>@Html.DisplayFor(modelItem => item.Assettype)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetname)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetcategory)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetworkordernumber)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetpurchaseordernumber)</td>
                <td data-order="@item.Assetdate.ToString("yyyy-MM-dd")">@Html.DisplayFor(modelItem => item.Assetdate)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetprojectmanager)</td>
                <td>@Html.DisplayFor(modelItem => item.Assetequipmentamount)</td>
            </tr>
        }
    </tbody>
    <tfoot>
        <tr>
            <th>Url</th>
            <th>@Html.DisplayName("ID")</th>
            <th>@Html.DisplayName("Type")</th>
            <th>@Html.DisplayName("Name")</th>
            <th>@Html.DisplayName("Category")</th>
            <th>@Html.DisplayName("WO#")</th>
            <th>@Html.DisplayName("PO#")</th>
            <th>@Html.DisplayName("Date")</th>
            <th>@Html.DisplayName("PM")</th>
            <th>@Html.DisplayName("Amount")</th>
        </tr>
    </tfoot>
</table>


@* @(Html
    .Grid(Model)
    .Build(columns =>
    {
        columns.Add(model => model.Uniqueassetid).Titled("Url").Encoded(false)
        .RenderedAs(model =>
        {
            var url = Url.Action("AssetDetails", "AssetMgmt", new { id = model.Uniqueassetid });
            return Html.Raw($"<a href=\"{url}\" class=\"btn btn-info btn-sm center\" style=\"font-size:20px;\">Details</a>");
        }).Filterable(false).Sortable(false).Css("col-sm-1");
        columns.Add(model => model.Assetid).Titled("AssetID").Sortable(true);
        columns.Add(model => model.Assettype).Titled("AssetType");
        columns.Add(model => model.Assetname).Titled("AssetName").Sortable(true);
        columns.Add(model => model.Assetmanufacturer).Titled("AssetManufacturer");
        columns.Add(model => model.Assetcategory).Titled("AssetCategory");
        columns.Add(model => model.Assetworkordernumber).Titled("WO");
        columns.Add(model => model.Assetpurchaseordernumber).Titled("PO");
        columns.Add(model => model.Assetdate).Titled("Date").Formatted("{0:d}");
        columns.Add(model => model.Assetprojectmanager).Titled("ProjectManager").Sortable(true);
        columns.Add(model => model.Assetequipmentamount).Titled("Amount").Formatted("{0:C}").Sortable(true);
    })
    .Empty("No data found.")
    .Filterable()
    .Id("am-ajax-grid")
    .Sortable()
    .Pageable(pager =>
    {
        pager.PageSizes = new Dictionary<Int32, String> { { 25, "25" }, { 50, "50" }, { 75, "75" }, { 100, "100" } };
        pager.ShowPageSizes = true;
        pager.PagesToDisplay = 10;
        pager.CurrentPage = 1;
        pager.RowsPerPage = 25;
    })
) *@